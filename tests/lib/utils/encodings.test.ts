import { changeEnc } from "$lib/utils/encodings.ts";
import { assertEquals } from "$std/testing/asserts.ts";

const enc = new TextEncoder();
const sampleString1 = "This is the Hello World!";
const sampleString2 =
	`I'm baby celiac VHS praxis subway tile reprehenderit ut. Gatekeep vaporware flannel officia chillwave everyday carry offal typewriter portland tattooed ad 3 wolf moon letterpress. Readymade offal authentic fanny pack yr, pop-up vice tacos truffaut lumbersexual jean shorts fugiat. Chartreuse 8-bit street art tacos af, swag velit live-edge 3 wolf moon consectetur. Prism esse street art keffiyeh nostrud, tofu occaecat hexagon hot chicken XOXO narwhal lumbersexual retro. Austin offal banjo fugiat pickled. Fit exercitation aliquip, ut gatekeep waistcoat venmo DIY vibecession est yr.
Shaman grailed mollit DSA jianbing. Wolf eu four dollar toast, non readymade do 90's exercitation quis iPhone truffaut vinyl. DIY humblebrag sustainable kickstarter. Activated charcoal crucifix distillery church-key, reprehenderit freegan copper mug truffaut est yr mollit put a bird on it keytar eu fit. Authentic et pork belly hoodie organic humblebrag velit try-hard XOXO id cliche nisi gastropub everyday carry.
Activated charcoal gochujang readymade, food truck shoreditch VHS narwhal portland aesthetic do irure bushwick. Locavore copper mug 90's glossier laboris edison bulb pabst esse. Brunch slow-carb officia selfies literally. Occaecat trust fund 8-bit ea eu kombucha hashtag tilde. Eu etsy wayfarers, laboris tbh cliche ennui 3 wolf moon qui gastropub ut id. Chillwave pabst williamsburg actually banh mi glossier pariatur, sriracha mustache laborum voluptate tumblr.
Esse irony praxis deep v mlkshk meh culpa, four loko fanny pack fashion axe you probably haven't heard of them sartorial. Magna labore locavore roof party eiusmod cred ad vegan four loko cardigan. Typewriter edison bulb craft beer shabby chic austin, mukbang jean shorts woke hammock marxism fingerstache fit yuccie. Ut proident echo park, chambray next level Brooklyn kombucha unicorn yes plz kinfolk neutra health goth food truck. Vape ut four dollar toast pitchfork mumblecore blue bottle PBR&B artisan cardigan irony occaecat ennui dolor anim excepteur. Tacos ex fingerstache tonx butcher, ut bicycle rights dreamcatcher trust fund labore iPhone flexitarian ugh.
Blog af shaman commodo. Wayfarers nulla succulents crucifix williamsburg fanny pack neutra pok pok. Bicycle rights taiyaki poke, celiac snackwave hella put a bird on it swag organic quinoa. Neutral milk hotel paleo jawn health goth occaecat ut.`;

Deno.test("change Encoding :: String:UTF8 -> Hex", () => {
	const HelloWorldTransformed = changeEnc(sampleString1).from("utf8").to("hex").string();
	const HipsterIpsumTransformed = changeEnc(sampleString2).from("utf8").to("hex").string();

	assertEquals(HelloWorldTransformed, "54686973206973207468652048656c6c6f20576f726c6421");
	assertEquals(
		HipsterIpsumTransformed,
		"49276d20626162792063656c6961632056485320707261786973207375627761792074696c6520726570726568656e64657269742075742e20476174656b656570207661706f727761726520666c616e6e656c206f666669636961206368696c6c77617665206576657279646179206361727279206f6666616c207479706577726974657220706f72746c616e6420746174746f6f6564206164203320776f6c66206d6f6f6e206c657474657270726573732e2052656164796d616465206f6666616c2061757468656e7469632066616e6e79207061636b2079722c20706f702d75702076696365207461636f73207472756666617574206c756d62657273657875616c206a65616e2073686f727473206675676961742e204368617274726575736520382d6269742073747265657420617274207461636f732061662c20737761672076656c6974206c6976652d65646765203320776f6c66206d6f6f6e20636f6e73656374657475722e20507269736d20657373652073747265657420617274206b65666669796568206e6f73747275642c20746f6675206f636361656361742068657861676f6e20686f7420636869636b656e20584f584f206e61727768616c206c756d62657273657875616c20726574726f2e2041757374696e206f6666616c2062616e6a6f20667567696174207069636b6c65642e2046697420657865726369746174696f6e20616c69717569702c20757420676174656b656570207761697374636f61742076656e6d6f20444959207669626563657373696f6e206573742079722e0a5368616d616e20677261696c6564206d6f6c6c697420445341206a69616e62696e672e20576f6c6620657520666f757220646f6c6c617220746f6173742c206e6f6e2072656164796d61646520646f203930277320657865726369746174696f6e2071756973206950686f6e652074727566666175742076696e796c2e204449592068756d626c6562726167207375737461696e61626c65206b69636b737461727465722e204163746976617465642063686172636f616c2063727563696669782064697374696c6c657279206368757263682d6b65792c20726570726568656e6465726974206672656567616e20636f70706572206d756720747275666661757420657374207972206d6f6c6c69742070757420612062697264206f6e206974206b6579746172206575206669742e2041757468656e74696320657420706f726b2062656c6c7920686f6f646965206f7267616e69632068756d626c65627261672076656c6974207472792d6861726420584f584f20696420636c69636865206e6973692067617374726f7075622065766572796461792063617272792e0a4163746976617465642063686172636f616c20676f6368756a616e672072656164796d6164652c20666f6f6420747275636b2073686f7265646974636820564853206e61727768616c20706f72746c616e642061657374686574696320646f20697275726520627573687769636b2e204c6f6361766f726520636f70706572206d7567203930277320676c6f7373696572206c61626f72697320656469736f6e2062756c6220706162737420657373652e204272756e636820736c6f772d63617262206f6666696369612073656c66696573206c69746572616c6c792e204f636361656361742074727573742066756e6420382d626974206561206575206b6f6d627563686120686173687461672074696c64652e2045752065747379207761796661726572732c206c61626f7269732074626820636c6963686520656e6e7569203320776f6c66206d6f6f6e207175692067617374726f7075622075742069642e204368696c6c776176652070616273742077696c6c69616d73627572672061637475616c6c792062616e68206d6920676c6f73736965722070617269617475722c207372697261636861206d75737461636865206c61626f72756d20766f6c7570746174652074756d626c722e0a457373652069726f6e792070726178697320646565702076206d6c6b73686b206d65682063756c70612c20666f7572206c6f6b6f2066616e6e79207061636b2066617368696f6e2061786520796f752070726f6261626c7920686176656e2774206865617264206f66207468656d20736172746f7269616c2e204d61676e61206c61626f7265206c6f6361766f726520726f6f6620706172747920656975736d6f64206372656420616420766567616e20666f7572206c6f6b6f20636172646967616e2e205479706577726974657220656469736f6e2062756c6220637261667420626565722073686162627920636869632061757374696e2c206d756b62616e67206a65616e2073686f72747320776f6b652068616d6d6f636b206d61727869736d2066696e67657273746163686520666974207975636369652e2055742070726f6964656e74206563686f207061726b2c206368616d62726179206e657874206c6576656c2042726f6f6b6c796e206b6f6d627563686120756e69636f726e2079657320706c7a206b696e666f6c6b206e6575747261206865616c746820676f746820666f6f6420747275636b2e205661706520757420666f757220646f6c6c617220746f617374207069746368666f726b206d756d626c65636f726520626c756520626f74746c65205042522642206172746973616e20636172646967616e2069726f6e79206f6363616563617420656e6e756920646f6c6f7220616e696d206578636570746575722e205461636f732065782066696e67657273746163686520746f6e7820627574636865722c2075742062696379636c652072696768747320647265616d636174636865722074727573742066756e64206c61626f7265206950686f6e6520666c65786974617269616e207567682e0a426c6f67206166207368616d616e20636f6d6d6f646f2e20576179666172657273206e756c6c612073756363756c656e74732063727563696669782077696c6c69616d73627572672066616e6e79207061636b206e657574726120706f6b20706f6b2e2042696379636c65207269676874732074616979616b6920706f6b652c2063656c69616320736e61636b776176652068656c6c612070757420612062697264206f6e2069742073776167206f7267616e6963207175696e6f612e204e65757472616c206d696c6b20686f74656c2070616c656f206a61776e206865616c746820676f7468206f636361656361742075742e",
	);
});

Deno.test("change Encoding :: String:UTF8 -> base64url", () => {
	const HelloWorldTransformed = changeEnc(sampleString1).from("utf8").to("base64url").string();
	const HipsterIpsumTransformed = changeEnc(sampleString2).from("utf8").to("base64url").string();

	assertEquals(HelloWorldTransformed, "VGhpcyBpcyB0aGUgSGVsbG8gV29ybGQh");
	assertEquals(
		HipsterIpsumTransformed,
		"SSdtIGJhYnkgY2VsaWFjIFZIUyBwcmF4aXMgc3Vid2F5IHRpbGUgcmVwcmVoZW5kZXJpdCB1dC4gR2F0ZWtlZXAgdmFwb3J3YXJlIGZsYW5uZWwgb2ZmaWNpYSBjaGlsbHdhdmUgZXZlcnlkYXkgY2Fycnkgb2ZmYWwgdHlwZXdyaXRlciBwb3J0bGFuZCB0YXR0b29lZCBhZCAzIHdvbGYgbW9vbiBsZXR0ZXJwcmVzcy4gUmVhZHltYWRlIG9mZmFsIGF1dGhlbnRpYyBmYW5ueSBwYWNrIHlyLCBwb3AtdXAgdmljZSB0YWNvcyB0cnVmZmF1dCBsdW1iZXJzZXh1YWwgamVhbiBzaG9ydHMgZnVnaWF0LiBDaGFydHJldXNlIDgtYml0IHN0cmVldCBhcnQgdGFjb3MgYWYsIHN3YWcgdmVsaXQgbGl2ZS1lZGdlIDMgd29sZiBtb29uIGNvbnNlY3RldHVyLiBQcmlzbSBlc3NlIHN0cmVldCBhcnQga2VmZml5ZWggbm9zdHJ1ZCwgdG9mdSBvY2NhZWNhdCBoZXhhZ29uIGhvdCBjaGlja2VuIFhPWE8gbmFyd2hhbCBsdW1iZXJzZXh1YWwgcmV0cm8uIEF1c3RpbiBvZmZhbCBiYW5qbyBmdWdpYXQgcGlja2xlZC4gRml0IGV4ZXJjaXRhdGlvbiBhbGlxdWlwLCB1dCBnYXRla2VlcCB3YWlzdGNvYXQgdmVubW8gRElZIHZpYmVjZXNzaW9uIGVzdCB5ci4KU2hhbWFuIGdyYWlsZWQgbW9sbGl0IERTQSBqaWFuYmluZy4gV29sZiBldSBmb3VyIGRvbGxhciB0b2FzdCwgbm9uIHJlYWR5bWFkZSBkbyA5MCdzIGV4ZXJjaXRhdGlvbiBxdWlzIGlQaG9uZSB0cnVmZmF1dCB2aW55bC4gRElZIGh1bWJsZWJyYWcgc3VzdGFpbmFibGUga2lja3N0YXJ0ZXIuIEFjdGl2YXRlZCBjaGFyY29hbCBjcnVjaWZpeCBkaXN0aWxsZXJ5IGNodXJjaC1rZXksIHJlcHJlaGVuZGVyaXQgZnJlZWdhbiBjb3BwZXIgbXVnIHRydWZmYXV0IGVzdCB5ciBtb2xsaXQgcHV0IGEgYmlyZCBvbiBpdCBrZXl0YXIgZXUgZml0LiBBdXRoZW50aWMgZXQgcG9yayBiZWxseSBob29kaWUgb3JnYW5pYyBodW1ibGVicmFnIHZlbGl0IHRyeS1oYXJkIFhPWE8gaWQgY2xpY2hlIG5pc2kgZ2FzdHJvcHViIGV2ZXJ5ZGF5IGNhcnJ5LgpBY3RpdmF0ZWQgY2hhcmNvYWwgZ29jaHVqYW5nIHJlYWR5bWFkZSwgZm9vZCB0cnVjayBzaG9yZWRpdGNoIFZIUyBuYXJ3aGFsIHBvcnRsYW5kIGFlc3RoZXRpYyBkbyBpcnVyZSBidXNod2ljay4gTG9jYXZvcmUgY29wcGVyIG11ZyA5MCdzIGdsb3NzaWVyIGxhYm9yaXMgZWRpc29uIGJ1bGIgcGFic3QgZXNzZS4gQnJ1bmNoIHNsb3ctY2FyYiBvZmZpY2lhIHNlbGZpZXMgbGl0ZXJhbGx5LiBPY2NhZWNhdCB0cnVzdCBmdW5kIDgtYml0IGVhIGV1IGtvbWJ1Y2hhIGhhc2h0YWcgdGlsZGUuIEV1IGV0c3kgd2F5ZmFyZXJzLCBsYWJvcmlzIHRiaCBjbGljaGUgZW5udWkgMyB3b2xmIG1vb24gcXVpIGdhc3Ryb3B1YiB1dCBpZC4gQ2hpbGx3YXZlIHBhYnN0IHdpbGxpYW1zYnVyZyBhY3R1YWxseSBiYW5oIG1pIGdsb3NzaWVyIHBhcmlhdHVyLCBzcmlyYWNoYSBtdXN0YWNoZSBsYWJvcnVtIHZvbHVwdGF0ZSB0dW1ibHIuCkVzc2UgaXJvbnkgcHJheGlzIGRlZXAgdiBtbGtzaGsgbWVoIGN1bHBhLCBmb3VyIGxva28gZmFubnkgcGFjayBmYXNoaW9uIGF4ZSB5b3UgcHJvYmFibHkgaGF2ZW4ndCBoZWFyZCBvZiB0aGVtIHNhcnRvcmlhbC4gTWFnbmEgbGFib3JlIGxvY2F2b3JlIHJvb2YgcGFydHkgZWl1c21vZCBjcmVkIGFkIHZlZ2FuIGZvdXIgbG9rbyBjYXJkaWdhbi4gVHlwZXdyaXRlciBlZGlzb24gYnVsYiBjcmFmdCBiZWVyIHNoYWJieSBjaGljIGF1c3RpbiwgbXVrYmFuZyBqZWFuIHNob3J0cyB3b2tlIGhhbW1vY2sgbWFyeGlzbSBmaW5nZXJzdGFjaGUgZml0IHl1Y2NpZS4gVXQgcHJvaWRlbnQgZWNobyBwYXJrLCBjaGFtYnJheSBuZXh0IGxldmVsIEJyb29rbHluIGtvbWJ1Y2hhIHVuaWNvcm4geWVzIHBseiBraW5mb2xrIG5ldXRyYSBoZWFsdGggZ290aCBmb29kIHRydWNrLiBWYXBlIHV0IGZvdXIgZG9sbGFyIHRvYXN0IHBpdGNoZm9yayBtdW1ibGVjb3JlIGJsdWUgYm90dGxlIFBCUiZCIGFydGlzYW4gY2FyZGlnYW4gaXJvbnkgb2NjYWVjYXQgZW5udWkgZG9sb3IgYW5pbSBleGNlcHRldXIuIFRhY29zIGV4IGZpbmdlcnN0YWNoZSB0b254IGJ1dGNoZXIsIHV0IGJpY3ljbGUgcmlnaHRzIGRyZWFtY2F0Y2hlciB0cnVzdCBmdW5kIGxhYm9yZSBpUGhvbmUgZmxleGl0YXJpYW4gdWdoLgpCbG9nIGFmIHNoYW1hbiBjb21tb2RvLiBXYXlmYXJlcnMgbnVsbGEgc3VjY3VsZW50cyBjcnVjaWZpeCB3aWxsaWFtc2J1cmcgZmFubnkgcGFjayBuZXV0cmEgcG9rIHBvay4gQmljeWNsZSByaWdodHMgdGFpeWFraSBwb2tlLCBjZWxpYWMgc25hY2t3YXZlIGhlbGxhIHB1dCBhIGJpcmQgb24gaXQgc3dhZyBvcmdhbmljIHF1aW5vYS4gTmV1dHJhbCBtaWxrIGhvdGVsIHBhbGVvIGphd24gaGVhbHRoIGdvdGggb2NjYWVjYXQgdXQu",
	);
});

Deno.test("change Encoding :: String:UTF8 -> base58", () => {
	const HelloWorldTransformed = changeEnc(sampleString1).from("utf8").to("base58").string();
	const HipsterIpsumTransformed = changeEnc(sampleString2).from("utf8").to("base58").string();

	assertEquals(HelloWorldTransformed, "8hJqnH74LiGKsBi38ZmsC9mDra1XnS8Ac");
	assertEquals(
		HipsterIpsumTransformed,
		"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",
	);
});

Deno.test("change Encoding :: String:UTF8 -> base64", () => {
	const HelloWorldTransformed = changeEnc(sampleString1).from("utf8").to("base64").string();
	const HipsterIpsumTransformed = changeEnc(sampleString2).from("utf8").to("base64").string();

	assertEquals(HelloWorldTransformed, "VGhpcyBpcyB0aGUgSGVsbG8gV29ybGQh");
	assertEquals(
		HipsterIpsumTransformed,
		"SSdtIGJhYnkgY2VsaWFjIFZIUyBwcmF4aXMgc3Vid2F5IHRpbGUgcmVwcmVoZW5kZXJpdCB1dC4gR2F0ZWtlZXAgdmFwb3J3YXJlIGZsYW5uZWwgb2ZmaWNpYSBjaGlsbHdhdmUgZXZlcnlkYXkgY2Fycnkgb2ZmYWwgdHlwZXdyaXRlciBwb3J0bGFuZCB0YXR0b29lZCBhZCAzIHdvbGYgbW9vbiBsZXR0ZXJwcmVzcy4gUmVhZHltYWRlIG9mZmFsIGF1dGhlbnRpYyBmYW5ueSBwYWNrIHlyLCBwb3AtdXAgdmljZSB0YWNvcyB0cnVmZmF1dCBsdW1iZXJzZXh1YWwgamVhbiBzaG9ydHMgZnVnaWF0LiBDaGFydHJldXNlIDgtYml0IHN0cmVldCBhcnQgdGFjb3MgYWYsIHN3YWcgdmVsaXQgbGl2ZS1lZGdlIDMgd29sZiBtb29uIGNvbnNlY3RldHVyLiBQcmlzbSBlc3NlIHN0cmVldCBhcnQga2VmZml5ZWggbm9zdHJ1ZCwgdG9mdSBvY2NhZWNhdCBoZXhhZ29uIGhvdCBjaGlja2VuIFhPWE8gbmFyd2hhbCBsdW1iZXJzZXh1YWwgcmV0cm8uIEF1c3RpbiBvZmZhbCBiYW5qbyBmdWdpYXQgcGlja2xlZC4gRml0IGV4ZXJjaXRhdGlvbiBhbGlxdWlwLCB1dCBnYXRla2VlcCB3YWlzdGNvYXQgdmVubW8gRElZIHZpYmVjZXNzaW9uIGVzdCB5ci4KU2hhbWFuIGdyYWlsZWQgbW9sbGl0IERTQSBqaWFuYmluZy4gV29sZiBldSBmb3VyIGRvbGxhciB0b2FzdCwgbm9uIHJlYWR5bWFkZSBkbyA5MCdzIGV4ZXJjaXRhdGlvbiBxdWlzIGlQaG9uZSB0cnVmZmF1dCB2aW55bC4gRElZIGh1bWJsZWJyYWcgc3VzdGFpbmFibGUga2lja3N0YXJ0ZXIuIEFjdGl2YXRlZCBjaGFyY29hbCBjcnVjaWZpeCBkaXN0aWxsZXJ5IGNodXJjaC1rZXksIHJlcHJlaGVuZGVyaXQgZnJlZWdhbiBjb3BwZXIgbXVnIHRydWZmYXV0IGVzdCB5ciBtb2xsaXQgcHV0IGEgYmlyZCBvbiBpdCBrZXl0YXIgZXUgZml0LiBBdXRoZW50aWMgZXQgcG9yayBiZWxseSBob29kaWUgb3JnYW5pYyBodW1ibGVicmFnIHZlbGl0IHRyeS1oYXJkIFhPWE8gaWQgY2xpY2hlIG5pc2kgZ2FzdHJvcHViIGV2ZXJ5ZGF5IGNhcnJ5LgpBY3RpdmF0ZWQgY2hhcmNvYWwgZ29jaHVqYW5nIHJlYWR5bWFkZSwgZm9vZCB0cnVjayBzaG9yZWRpdGNoIFZIUyBuYXJ3aGFsIHBvcnRsYW5kIGFlc3RoZXRpYyBkbyBpcnVyZSBidXNod2ljay4gTG9jYXZvcmUgY29wcGVyIG11ZyA5MCdzIGdsb3NzaWVyIGxhYm9yaXMgZWRpc29uIGJ1bGIgcGFic3QgZXNzZS4gQnJ1bmNoIHNsb3ctY2FyYiBvZmZpY2lhIHNlbGZpZXMgbGl0ZXJhbGx5LiBPY2NhZWNhdCB0cnVzdCBmdW5kIDgtYml0IGVhIGV1IGtvbWJ1Y2hhIGhhc2h0YWcgdGlsZGUuIEV1IGV0c3kgd2F5ZmFyZXJzLCBsYWJvcmlzIHRiaCBjbGljaGUgZW5udWkgMyB3b2xmIG1vb24gcXVpIGdhc3Ryb3B1YiB1dCBpZC4gQ2hpbGx3YXZlIHBhYnN0IHdpbGxpYW1zYnVyZyBhY3R1YWxseSBiYW5oIG1pIGdsb3NzaWVyIHBhcmlhdHVyLCBzcmlyYWNoYSBtdXN0YWNoZSBsYWJvcnVtIHZvbHVwdGF0ZSB0dW1ibHIuCkVzc2UgaXJvbnkgcHJheGlzIGRlZXAgdiBtbGtzaGsgbWVoIGN1bHBhLCBmb3VyIGxva28gZmFubnkgcGFjayBmYXNoaW9uIGF4ZSB5b3UgcHJvYmFibHkgaGF2ZW4ndCBoZWFyZCBvZiB0aGVtIHNhcnRvcmlhbC4gTWFnbmEgbGFib3JlIGxvY2F2b3JlIHJvb2YgcGFydHkgZWl1c21vZCBjcmVkIGFkIHZlZ2FuIGZvdXIgbG9rbyBjYXJkaWdhbi4gVHlwZXdyaXRlciBlZGlzb24gYnVsYiBjcmFmdCBiZWVyIHNoYWJieSBjaGljIGF1c3RpbiwgbXVrYmFuZyBqZWFuIHNob3J0cyB3b2tlIGhhbW1vY2sgbWFyeGlzbSBmaW5nZXJzdGFjaGUgZml0IHl1Y2NpZS4gVXQgcHJvaWRlbnQgZWNobyBwYXJrLCBjaGFtYnJheSBuZXh0IGxldmVsIEJyb29rbHluIGtvbWJ1Y2hhIHVuaWNvcm4geWVzIHBseiBraW5mb2xrIG5ldXRyYSBoZWFsdGggZ290aCBmb29kIHRydWNrLiBWYXBlIHV0IGZvdXIgZG9sbGFyIHRvYXN0IHBpdGNoZm9yayBtdW1ibGVjb3JlIGJsdWUgYm90dGxlIFBCUiZCIGFydGlzYW4gY2FyZGlnYW4gaXJvbnkgb2NjYWVjYXQgZW5udWkgZG9sb3IgYW5pbSBleGNlcHRldXIuIFRhY29zIGV4IGZpbmdlcnN0YWNoZSB0b254IGJ1dGNoZXIsIHV0IGJpY3ljbGUgcmlnaHRzIGRyZWFtY2F0Y2hlciB0cnVzdCBmdW5kIGxhYm9yZSBpUGhvbmUgZmxleGl0YXJpYW4gdWdoLgpCbG9nIGFmIHNoYW1hbiBjb21tb2RvLiBXYXlmYXJlcnMgbnVsbGEgc3VjY3VsZW50cyBjcnVjaWZpeCB3aWxsaWFtc2J1cmcgZmFubnkgcGFjayBuZXV0cmEgcG9rIHBvay4gQmljeWNsZSByaWdodHMgdGFpeWFraSBwb2tlLCBjZWxpYWMgc25hY2t3YXZlIGhlbGxhIHB1dCBhIGJpcmQgb24gaXQgc3dhZyBvcmdhbmljIHF1aW5vYS4gTmV1dHJhbCBtaWxrIGhvdGVsIHBhbGVvIGphd24gaGVhbHRoIGdvdGggb2NjYWVjYXQgdXQu",
	);
});

Deno.test("change Encoding :: String:UTF8 -> UTF8", () => {
	const HelloWorldTransformed = changeEnc(sampleString1).from("utf8").to("utf8").string();
	const HipsterIpsumTransformed = changeEnc(sampleString2).from("utf8").to("utf8").string();

	assertEquals(HelloWorldTransformed, HelloWorldTransformed);
	assertEquals(HipsterIpsumTransformed, HipsterIpsumTransformed);
});

Deno.test("change Encoding :: UInt8Array:UTF8 -> Hex", () => {
	const HelloWorldTransformed = changeEnc(enc.encode(sampleString1)).from("utf8").to("hex").string();
	const HipsterIpsumTransformed = changeEnc(enc.encode(sampleString2)).from("utf8").to("hex").string();

	assertEquals(HelloWorldTransformed, "54686973206973207468652048656c6c6f20576f726c6421");
	assertEquals(
		HipsterIpsumTransformed,
		"49276d20626162792063656c6961632056485320707261786973207375627761792074696c6520726570726568656e64657269742075742e20476174656b656570207661706f727761726520666c616e6e656c206f666669636961206368696c6c77617665206576657279646179206361727279206f6666616c207479706577726974657220706f72746c616e6420746174746f6f6564206164203320776f6c66206d6f6f6e206c657474657270726573732e2052656164796d616465206f6666616c2061757468656e7469632066616e6e79207061636b2079722c20706f702d75702076696365207461636f73207472756666617574206c756d62657273657875616c206a65616e2073686f727473206675676961742e204368617274726575736520382d6269742073747265657420617274207461636f732061662c20737761672076656c6974206c6976652d65646765203320776f6c66206d6f6f6e20636f6e73656374657475722e20507269736d20657373652073747265657420617274206b65666669796568206e6f73747275642c20746f6675206f636361656361742068657861676f6e20686f7420636869636b656e20584f584f206e61727768616c206c756d62657273657875616c20726574726f2e2041757374696e206f6666616c2062616e6a6f20667567696174207069636b6c65642e2046697420657865726369746174696f6e20616c69717569702c20757420676174656b656570207761697374636f61742076656e6d6f20444959207669626563657373696f6e206573742079722e0a5368616d616e20677261696c6564206d6f6c6c697420445341206a69616e62696e672e20576f6c6620657520666f757220646f6c6c617220746f6173742c206e6f6e2072656164796d61646520646f203930277320657865726369746174696f6e2071756973206950686f6e652074727566666175742076696e796c2e204449592068756d626c6562726167207375737461696e61626c65206b69636b737461727465722e204163746976617465642063686172636f616c2063727563696669782064697374696c6c657279206368757263682d6b65792c20726570726568656e6465726974206672656567616e20636f70706572206d756720747275666661757420657374207972206d6f6c6c69742070757420612062697264206f6e206974206b6579746172206575206669742e2041757468656e74696320657420706f726b2062656c6c7920686f6f646965206f7267616e69632068756d626c65627261672076656c6974207472792d6861726420584f584f20696420636c69636865206e6973692067617374726f7075622065766572796461792063617272792e0a4163746976617465642063686172636f616c20676f6368756a616e672072656164796d6164652c20666f6f6420747275636b2073686f7265646974636820564853206e61727768616c20706f72746c616e642061657374686574696320646f20697275726520627573687769636b2e204c6f6361766f726520636f70706572206d7567203930277320676c6f7373696572206c61626f72697320656469736f6e2062756c6220706162737420657373652e204272756e636820736c6f772d63617262206f6666696369612073656c66696573206c69746572616c6c792e204f636361656361742074727573742066756e6420382d626974206561206575206b6f6d627563686120686173687461672074696c64652e2045752065747379207761796661726572732c206c61626f7269732074626820636c6963686520656e6e7569203320776f6c66206d6f6f6e207175692067617374726f7075622075742069642e204368696c6c776176652070616273742077696c6c69616d73627572672061637475616c6c792062616e68206d6920676c6f73736965722070617269617475722c207372697261636861206d75737461636865206c61626f72756d20766f6c7570746174652074756d626c722e0a457373652069726f6e792070726178697320646565702076206d6c6b73686b206d65682063756c70612c20666f7572206c6f6b6f2066616e6e79207061636b2066617368696f6e2061786520796f752070726f6261626c7920686176656e2774206865617264206f66207468656d20736172746f7269616c2e204d61676e61206c61626f7265206c6f6361766f726520726f6f6620706172747920656975736d6f64206372656420616420766567616e20666f7572206c6f6b6f20636172646967616e2e205479706577726974657220656469736f6e2062756c6220637261667420626565722073686162627920636869632061757374696e2c206d756b62616e67206a65616e2073686f72747320776f6b652068616d6d6f636b206d61727869736d2066696e67657273746163686520666974207975636369652e2055742070726f6964656e74206563686f207061726b2c206368616d62726179206e657874206c6576656c2042726f6f6b6c796e206b6f6d627563686120756e69636f726e2079657320706c7a206b696e666f6c6b206e6575747261206865616c746820676f746820666f6f6420747275636b2e205661706520757420666f757220646f6c6c617220746f617374207069746368666f726b206d756d626c65636f726520626c756520626f74746c65205042522642206172746973616e20636172646967616e2069726f6e79206f6363616563617420656e6e756920646f6c6f7220616e696d206578636570746575722e205461636f732065782066696e67657273746163686520746f6e7820627574636865722c2075742062696379636c652072696768747320647265616d636174636865722074727573742066756e64206c61626f7265206950686f6e6520666c65786974617269616e207567682e0a426c6f67206166207368616d616e20636f6d6d6f646f2e20576179666172657273206e756c6c612073756363756c656e74732063727563696669782077696c6c69616d73627572672066616e6e79207061636b206e657574726120706f6b20706f6b2e2042696379636c65207269676874732074616979616b6920706f6b652c2063656c69616320736e61636b776176652068656c6c612070757420612062697264206f6e2069742073776167206f7267616e6963207175696e6f612e204e65757472616c206d696c6b20686f74656c2070616c656f206a61776e206865616c746820676f7468206f636361656361742075742e",
	);
});

Deno.test("change Encoding :: UInt8Array:UTF8 -> base64url", () => {
	const HelloWorldTransformed = changeEnc(enc.encode(sampleString1)).from("utf8").to("base64url").string();
	const HipsterIpsumTransformed = changeEnc(enc.encode(sampleString2)).from("utf8").to("base64url").string();

	assertEquals(HelloWorldTransformed, "VGhpcyBpcyB0aGUgSGVsbG8gV29ybGQh");
	assertEquals(
		HipsterIpsumTransformed,
		"SSdtIGJhYnkgY2VsaWFjIFZIUyBwcmF4aXMgc3Vid2F5IHRpbGUgcmVwcmVoZW5kZXJpdCB1dC4gR2F0ZWtlZXAgdmFwb3J3YXJlIGZsYW5uZWwgb2ZmaWNpYSBjaGlsbHdhdmUgZXZlcnlkYXkgY2Fycnkgb2ZmYWwgdHlwZXdyaXRlciBwb3J0bGFuZCB0YXR0b29lZCBhZCAzIHdvbGYgbW9vbiBsZXR0ZXJwcmVzcy4gUmVhZHltYWRlIG9mZmFsIGF1dGhlbnRpYyBmYW5ueSBwYWNrIHlyLCBwb3AtdXAgdmljZSB0YWNvcyB0cnVmZmF1dCBsdW1iZXJzZXh1YWwgamVhbiBzaG9ydHMgZnVnaWF0LiBDaGFydHJldXNlIDgtYml0IHN0cmVldCBhcnQgdGFjb3MgYWYsIHN3YWcgdmVsaXQgbGl2ZS1lZGdlIDMgd29sZiBtb29uIGNvbnNlY3RldHVyLiBQcmlzbSBlc3NlIHN0cmVldCBhcnQga2VmZml5ZWggbm9zdHJ1ZCwgdG9mdSBvY2NhZWNhdCBoZXhhZ29uIGhvdCBjaGlja2VuIFhPWE8gbmFyd2hhbCBsdW1iZXJzZXh1YWwgcmV0cm8uIEF1c3RpbiBvZmZhbCBiYW5qbyBmdWdpYXQgcGlja2xlZC4gRml0IGV4ZXJjaXRhdGlvbiBhbGlxdWlwLCB1dCBnYXRla2VlcCB3YWlzdGNvYXQgdmVubW8gRElZIHZpYmVjZXNzaW9uIGVzdCB5ci4KU2hhbWFuIGdyYWlsZWQgbW9sbGl0IERTQSBqaWFuYmluZy4gV29sZiBldSBmb3VyIGRvbGxhciB0b2FzdCwgbm9uIHJlYWR5bWFkZSBkbyA5MCdzIGV4ZXJjaXRhdGlvbiBxdWlzIGlQaG9uZSB0cnVmZmF1dCB2aW55bC4gRElZIGh1bWJsZWJyYWcgc3VzdGFpbmFibGUga2lja3N0YXJ0ZXIuIEFjdGl2YXRlZCBjaGFyY29hbCBjcnVjaWZpeCBkaXN0aWxsZXJ5IGNodXJjaC1rZXksIHJlcHJlaGVuZGVyaXQgZnJlZWdhbiBjb3BwZXIgbXVnIHRydWZmYXV0IGVzdCB5ciBtb2xsaXQgcHV0IGEgYmlyZCBvbiBpdCBrZXl0YXIgZXUgZml0LiBBdXRoZW50aWMgZXQgcG9yayBiZWxseSBob29kaWUgb3JnYW5pYyBodW1ibGVicmFnIHZlbGl0IHRyeS1oYXJkIFhPWE8gaWQgY2xpY2hlIG5pc2kgZ2FzdHJvcHViIGV2ZXJ5ZGF5IGNhcnJ5LgpBY3RpdmF0ZWQgY2hhcmNvYWwgZ29jaHVqYW5nIHJlYWR5bWFkZSwgZm9vZCB0cnVjayBzaG9yZWRpdGNoIFZIUyBuYXJ3aGFsIHBvcnRsYW5kIGFlc3RoZXRpYyBkbyBpcnVyZSBidXNod2ljay4gTG9jYXZvcmUgY29wcGVyIG11ZyA5MCdzIGdsb3NzaWVyIGxhYm9yaXMgZWRpc29uIGJ1bGIgcGFic3QgZXNzZS4gQnJ1bmNoIHNsb3ctY2FyYiBvZmZpY2lhIHNlbGZpZXMgbGl0ZXJhbGx5LiBPY2NhZWNhdCB0cnVzdCBmdW5kIDgtYml0IGVhIGV1IGtvbWJ1Y2hhIGhhc2h0YWcgdGlsZGUuIEV1IGV0c3kgd2F5ZmFyZXJzLCBsYWJvcmlzIHRiaCBjbGljaGUgZW5udWkgMyB3b2xmIG1vb24gcXVpIGdhc3Ryb3B1YiB1dCBpZC4gQ2hpbGx3YXZlIHBhYnN0IHdpbGxpYW1zYnVyZyBhY3R1YWxseSBiYW5oIG1pIGdsb3NzaWVyIHBhcmlhdHVyLCBzcmlyYWNoYSBtdXN0YWNoZSBsYWJvcnVtIHZvbHVwdGF0ZSB0dW1ibHIuCkVzc2UgaXJvbnkgcHJheGlzIGRlZXAgdiBtbGtzaGsgbWVoIGN1bHBhLCBmb3VyIGxva28gZmFubnkgcGFjayBmYXNoaW9uIGF4ZSB5b3UgcHJvYmFibHkgaGF2ZW4ndCBoZWFyZCBvZiB0aGVtIHNhcnRvcmlhbC4gTWFnbmEgbGFib3JlIGxvY2F2b3JlIHJvb2YgcGFydHkgZWl1c21vZCBjcmVkIGFkIHZlZ2FuIGZvdXIgbG9rbyBjYXJkaWdhbi4gVHlwZXdyaXRlciBlZGlzb24gYnVsYiBjcmFmdCBiZWVyIHNoYWJieSBjaGljIGF1c3RpbiwgbXVrYmFuZyBqZWFuIHNob3J0cyB3b2tlIGhhbW1vY2sgbWFyeGlzbSBmaW5nZXJzdGFjaGUgZml0IHl1Y2NpZS4gVXQgcHJvaWRlbnQgZWNobyBwYXJrLCBjaGFtYnJheSBuZXh0IGxldmVsIEJyb29rbHluIGtvbWJ1Y2hhIHVuaWNvcm4geWVzIHBseiBraW5mb2xrIG5ldXRyYSBoZWFsdGggZ290aCBmb29kIHRydWNrLiBWYXBlIHV0IGZvdXIgZG9sbGFyIHRvYXN0IHBpdGNoZm9yayBtdW1ibGVjb3JlIGJsdWUgYm90dGxlIFBCUiZCIGFydGlzYW4gY2FyZGlnYW4gaXJvbnkgb2NjYWVjYXQgZW5udWkgZG9sb3IgYW5pbSBleGNlcHRldXIuIFRhY29zIGV4IGZpbmdlcnN0YWNoZSB0b254IGJ1dGNoZXIsIHV0IGJpY3ljbGUgcmlnaHRzIGRyZWFtY2F0Y2hlciB0cnVzdCBmdW5kIGxhYm9yZSBpUGhvbmUgZmxleGl0YXJpYW4gdWdoLgpCbG9nIGFmIHNoYW1hbiBjb21tb2RvLiBXYXlmYXJlcnMgbnVsbGEgc3VjY3VsZW50cyBjcnVjaWZpeCB3aWxsaWFtc2J1cmcgZmFubnkgcGFjayBuZXV0cmEgcG9rIHBvay4gQmljeWNsZSByaWdodHMgdGFpeWFraSBwb2tlLCBjZWxpYWMgc25hY2t3YXZlIGhlbGxhIHB1dCBhIGJpcmQgb24gaXQgc3dhZyBvcmdhbmljIHF1aW5vYS4gTmV1dHJhbCBtaWxrIGhvdGVsIHBhbGVvIGphd24gaGVhbHRoIGdvdGggb2NjYWVjYXQgdXQu",
	);
});

Deno.test("change Encoding :: UInt8Array:UTF8 -> base58", () => {
	const HelloWorldTransformed = changeEnc(enc.encode(sampleString1)).from("utf8").to("base58").string();
	const HipsterIpsumTransformed = changeEnc(enc.encode(sampleString2)).from("utf8").to("base58").string();

	assertEquals(HelloWorldTransformed, "8hJqnH74LiGKsBi38ZmsC9mDra1XnS8Ac");
	assertEquals(
		HipsterIpsumTransformed,
		"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",
	);
});

Deno.test("change Encoding :: UInt8Array:UTF8 -> base64", () => {
	const HelloWorldTransformed = changeEnc(enc.encode(sampleString1)).from("utf8").to("base64").string();
	const HipsterIpsumTransformed = changeEnc(enc.encode(sampleString2)).from("utf8").to("base64").string();

	assertEquals(HelloWorldTransformed, "VGhpcyBpcyB0aGUgSGVsbG8gV29ybGQh");
	assertEquals(
		HipsterIpsumTransformed,
		"SSdtIGJhYnkgY2VsaWFjIFZIUyBwcmF4aXMgc3Vid2F5IHRpbGUgcmVwcmVoZW5kZXJpdCB1dC4gR2F0ZWtlZXAgdmFwb3J3YXJlIGZsYW5uZWwgb2ZmaWNpYSBjaGlsbHdhdmUgZXZlcnlkYXkgY2Fycnkgb2ZmYWwgdHlwZXdyaXRlciBwb3J0bGFuZCB0YXR0b29lZCBhZCAzIHdvbGYgbW9vbiBsZXR0ZXJwcmVzcy4gUmVhZHltYWRlIG9mZmFsIGF1dGhlbnRpYyBmYW5ueSBwYWNrIHlyLCBwb3AtdXAgdmljZSB0YWNvcyB0cnVmZmF1dCBsdW1iZXJzZXh1YWwgamVhbiBzaG9ydHMgZnVnaWF0LiBDaGFydHJldXNlIDgtYml0IHN0cmVldCBhcnQgdGFjb3MgYWYsIHN3YWcgdmVsaXQgbGl2ZS1lZGdlIDMgd29sZiBtb29uIGNvbnNlY3RldHVyLiBQcmlzbSBlc3NlIHN0cmVldCBhcnQga2VmZml5ZWggbm9zdHJ1ZCwgdG9mdSBvY2NhZWNhdCBoZXhhZ29uIGhvdCBjaGlja2VuIFhPWE8gbmFyd2hhbCBsdW1iZXJzZXh1YWwgcmV0cm8uIEF1c3RpbiBvZmZhbCBiYW5qbyBmdWdpYXQgcGlja2xlZC4gRml0IGV4ZXJjaXRhdGlvbiBhbGlxdWlwLCB1dCBnYXRla2VlcCB3YWlzdGNvYXQgdmVubW8gRElZIHZpYmVjZXNzaW9uIGVzdCB5ci4KU2hhbWFuIGdyYWlsZWQgbW9sbGl0IERTQSBqaWFuYmluZy4gV29sZiBldSBmb3VyIGRvbGxhciB0b2FzdCwgbm9uIHJlYWR5bWFkZSBkbyA5MCdzIGV4ZXJjaXRhdGlvbiBxdWlzIGlQaG9uZSB0cnVmZmF1dCB2aW55bC4gRElZIGh1bWJsZWJyYWcgc3VzdGFpbmFibGUga2lja3N0YXJ0ZXIuIEFjdGl2YXRlZCBjaGFyY29hbCBjcnVjaWZpeCBkaXN0aWxsZXJ5IGNodXJjaC1rZXksIHJlcHJlaGVuZGVyaXQgZnJlZWdhbiBjb3BwZXIgbXVnIHRydWZmYXV0IGVzdCB5ciBtb2xsaXQgcHV0IGEgYmlyZCBvbiBpdCBrZXl0YXIgZXUgZml0LiBBdXRoZW50aWMgZXQgcG9yayBiZWxseSBob29kaWUgb3JnYW5pYyBodW1ibGVicmFnIHZlbGl0IHRyeS1oYXJkIFhPWE8gaWQgY2xpY2hlIG5pc2kgZ2FzdHJvcHViIGV2ZXJ5ZGF5IGNhcnJ5LgpBY3RpdmF0ZWQgY2hhcmNvYWwgZ29jaHVqYW5nIHJlYWR5bWFkZSwgZm9vZCB0cnVjayBzaG9yZWRpdGNoIFZIUyBuYXJ3aGFsIHBvcnRsYW5kIGFlc3RoZXRpYyBkbyBpcnVyZSBidXNod2ljay4gTG9jYXZvcmUgY29wcGVyIG11ZyA5MCdzIGdsb3NzaWVyIGxhYm9yaXMgZWRpc29uIGJ1bGIgcGFic3QgZXNzZS4gQnJ1bmNoIHNsb3ctY2FyYiBvZmZpY2lhIHNlbGZpZXMgbGl0ZXJhbGx5LiBPY2NhZWNhdCB0cnVzdCBmdW5kIDgtYml0IGVhIGV1IGtvbWJ1Y2hhIGhhc2h0YWcgdGlsZGUuIEV1IGV0c3kgd2F5ZmFyZXJzLCBsYWJvcmlzIHRiaCBjbGljaGUgZW5udWkgMyB3b2xmIG1vb24gcXVpIGdhc3Ryb3B1YiB1dCBpZC4gQ2hpbGx3YXZlIHBhYnN0IHdpbGxpYW1zYnVyZyBhY3R1YWxseSBiYW5oIG1pIGdsb3NzaWVyIHBhcmlhdHVyLCBzcmlyYWNoYSBtdXN0YWNoZSBsYWJvcnVtIHZvbHVwdGF0ZSB0dW1ibHIuCkVzc2UgaXJvbnkgcHJheGlzIGRlZXAgdiBtbGtzaGsgbWVoIGN1bHBhLCBmb3VyIGxva28gZmFubnkgcGFjayBmYXNoaW9uIGF4ZSB5b3UgcHJvYmFibHkgaGF2ZW4ndCBoZWFyZCBvZiB0aGVtIHNhcnRvcmlhbC4gTWFnbmEgbGFib3JlIGxvY2F2b3JlIHJvb2YgcGFydHkgZWl1c21vZCBjcmVkIGFkIHZlZ2FuIGZvdXIgbG9rbyBjYXJkaWdhbi4gVHlwZXdyaXRlciBlZGlzb24gYnVsYiBjcmFmdCBiZWVyIHNoYWJieSBjaGljIGF1c3RpbiwgbXVrYmFuZyBqZWFuIHNob3J0cyB3b2tlIGhhbW1vY2sgbWFyeGlzbSBmaW5nZXJzdGFjaGUgZml0IHl1Y2NpZS4gVXQgcHJvaWRlbnQgZWNobyBwYXJrLCBjaGFtYnJheSBuZXh0IGxldmVsIEJyb29rbHluIGtvbWJ1Y2hhIHVuaWNvcm4geWVzIHBseiBraW5mb2xrIG5ldXRyYSBoZWFsdGggZ290aCBmb29kIHRydWNrLiBWYXBlIHV0IGZvdXIgZG9sbGFyIHRvYXN0IHBpdGNoZm9yayBtdW1ibGVjb3JlIGJsdWUgYm90dGxlIFBCUiZCIGFydGlzYW4gY2FyZGlnYW4gaXJvbnkgb2NjYWVjYXQgZW5udWkgZG9sb3IgYW5pbSBleGNlcHRldXIuIFRhY29zIGV4IGZpbmdlcnN0YWNoZSB0b254IGJ1dGNoZXIsIHV0IGJpY3ljbGUgcmlnaHRzIGRyZWFtY2F0Y2hlciB0cnVzdCBmdW5kIGxhYm9yZSBpUGhvbmUgZmxleGl0YXJpYW4gdWdoLgpCbG9nIGFmIHNoYW1hbiBjb21tb2RvLiBXYXlmYXJlcnMgbnVsbGEgc3VjY3VsZW50cyBjcnVjaWZpeCB3aWxsaWFtc2J1cmcgZmFubnkgcGFjayBuZXV0cmEgcG9rIHBvay4gQmljeWNsZSByaWdodHMgdGFpeWFraSBwb2tlLCBjZWxpYWMgc25hY2t3YXZlIGhlbGxhIHB1dCBhIGJpcmQgb24gaXQgc3dhZyBvcmdhbmljIHF1aW5vYS4gTmV1dHJhbCBtaWxrIGhvdGVsIHBhbGVvIGphd24gaGVhbHRoIGdvdGggb2NjYWVjYXQgdXQu",
	);
});

Deno.test("change Encoding :: UInt8Array:UTF8 -> UTF8", () => {
	const HelloWorldTransformed = changeEnc(enc.encode(sampleString1)).from("utf8").to("utf8").string();
	const HipsterIpsumTransformed = changeEnc(enc.encode(sampleString2)).from("utf8").to("utf8").string();

	assertEquals(HelloWorldTransformed, HelloWorldTransformed);
	assertEquals(HipsterIpsumTransformed, HipsterIpsumTransformed);
});

Deno.test("change Encoding :: String:UTF8 -> Base58 -> Hex", () => {
	const helloWorldb58 = changeEnc(sampleString1).from("utf8").to("base58").array();
	const HellowWorldB58Hex = changeEnc(helloWorldb58).from("base58").to("hex").string();

	assertEquals(HellowWorldB58Hex, "54686973206973207468652048656c6c6f20576f726c6421");
});
